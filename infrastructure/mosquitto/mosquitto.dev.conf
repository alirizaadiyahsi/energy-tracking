# Mosquitto Configuration for Development
# =======================================

# General Settings
persistence true
persistence_location /mosquitto/data/
log_dest file /mosquitto/log/mosquitto.log
log_dest stdout
log_type error
log_type warning
log_type notice
log_type information

# Connection Settings
port 1883
max_connections 1000
max_inflight_messages 100
max_queued_messages 1000

# WebSocket Support
listener 9001
protocol websockets

# Security Settings (Development - Minimal Security)
allow_anonymous true
password_file /mosquitto/config/passwd

# ACL Settings
# acl_file /mosquitto/config/acl.conf

# Message Settings
message_size_limit 1048576
persistent_client_expiration 2m

# Logging
connection_messages true
log_timestamp true
log_timestamp_format %Y-%m-%dT%H:%M:%S

# Bridge Configuration (if needed for external brokers)
# connection bridge-01
# address external-broker.example.com:1883
# topic sensors/# out 0
# topic actuators/# in 0

# Retained Messages
max_retained_messages 1000
retained_persistence true

# Performance Tuning
sys_interval 10
store_clean_interval 10
max_packet_size 1048576

# Client Settings
idle_timeout 60
keepalive_interval 60

# Development Specific
# Allow all clients to connect without authentication
# Remove this in production!
